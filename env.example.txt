# ============================================
# Host Checker - Environment Variables
# ============================================
# Скопируйте этот файл в .env и заполните значениями
# НИКОГДА не коммитьте .env в Git!
# ============================================

# ============================================
# BACKEND (Railway / main server)
# ============================================

# PostgreSQL Database URL
# Railway автоматически создаёт эту переменную
# Формат: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://SERVER:YOUR_PASSWORD@localhost:5432/serverDB

# Redis URL
# Railway автоматически создаёт эту переменную
# Формат: redis://user:password@host:port
REDIS_URL=redis://localhost:6379

# Master Registration Token для регистрации новых агентов
# ОБЯЗАТЕЛЬНО СМЕНИТЕ на случайную строку в production!
# Генерация: openssl rand -hex 32
MASTER_REGISTRATION_TOKEN=CHANGE_ME_TO_SECURE_RANDOM_STRING_64_CHARS

# CORS Origins (разрешённые домены для фронтенда)
# В production укажите конкретные домены через запятую
# Пример: https://hostchecker.vercel.app,https://www.hostchecker.com
CORS_ORIGINS=*

# Port (Railway устанавливает автоматически)
PORT=8000

# ============================================
# FRONTEND (Vercel)
# ============================================

# URL бэкенд API
# В Vercel: Settings → Environment Variables
VITE_API_URL=https://your-backend.railway.app

# ============================================
# AGENT (VPS / Fly.io / Docker)
# ============================================

# URL основного сервера
MAIN_SERVER_URL=https://your-backend.railway.app

# Информация об агенте
AGENT_COUNTRY=Russia
AGENT_NAME=Agent-Moscow-01

# UUID агента (получаете при регистрации через API)
# Оставьте пустым до регистрации
AGENT_UIID=

# API Token агента (получаете при регистрации через API)
# Оставьте пустым до регистрации
AGENT_API_TOKEN=

# Интервал опроса задач (секунды)
POLL_INTERVAL=5

# Максимум одновременных задач
MAX_CONCURRENT_TASKS=10

# Port агента (если нужен публичный доступ)
PORT=8001

# ============================================
# ИНСТРУКЦИЯ ПО РЕГИСТРАЦИИ АГЕНТА
# ============================================
#
# 1. Установите MAIN_SERVER_URL, AGENT_COUNTRY, AGENT_NAME
#
# 2. Зарегистрируйте агента через API:
#
#    curl -X POST https://your-backend.railway.app/api/agents/register \
#      -H "X-Registration-Token: ВАШ_MASTER_REGISTRATION_TOKEN" \
#      -H "Content-Type: application/json" \
#      -d '{
#        "name": "Agent-Moscow-01",
#        "location": "Russia, Moscow",
#        "metadata": {"provider": "VPS"}
#      }'
#
# 3. Скопируйте agent_id и api_token из ответа
#
# 4. Установите AGENT_UIID и AGENT_API_TOKEN в этом файле
#
# 5. Запустите агента: python -m uvicorn agent_production:app --port 8001
#
# ============================================

# ============================================
# ГЕНЕРАЦИЯ БЕЗОПАСНЫХ ТОКЕНОВ
# ============================================
#
# Linux/Mac:
# openssl rand -hex 32
#
# Python:
# python3 -c "import secrets; print(secrets.token_hex(32))"
#
# Node.js:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# ============================================

